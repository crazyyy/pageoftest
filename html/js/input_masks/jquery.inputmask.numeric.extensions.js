!function(e){return e.extend(e.inputmask.defaults.aliases,{numeric:{mask:function(e){function i(i){for(var r="",n=0;n<i.length;n++)r+=e.definitions[i[n]]?"\\"+i[n]:i[n];return r}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator==e.radixPoint&&(e.groupSeparator="."==e.radixPoint?",":","==e.radixPoint?".":"")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!=e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var r=Math.floor(e.integerDigits/e.groupSize),n=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0==n?r-1:r)}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),e.radixFocus=e.radixFocus&&"0"==e.placeholder,e.definitions[";"]=e.definitions["~"];var a=i(e.prefix);return a+="[+]",a+="~{1,"+e.integerDigits+"}",void 0!=e.digits&&(isNaN(e.digits)||parseInt(e.digits)>0)&&(a+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}"),""!=e.negationSymbol.back&&(a+="[-]"),a+=i(e.suffix),e.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(i,r,n,a){var t=!1;i.length>=a.suffix.length&&i.join("").indexOf(a.suffix)==i.length-a.suffix.length&&(i.length=i.length-a.suffix.length,t=!0),r=r>=i.length?i.length-1:r<a.prefix.length?a.prefix.length:r;var o=!1,p=i[r];if(""==a.groupSeparator||-1!=e.inArray(a.radixPoint,i)&&r>=e.inArray(a.radixPoint,i)||new RegExp("["+e.inputmask.escapeRegex(a.negationSymbol.front)+"+]").test(p)){if(t)for(var s=0,l=a.suffix.length;l>s;s++)i.push(a.suffix.charAt(s));return{pos:r}}var g=i.slice();p==a.groupSeparator&&(g.splice(r--,1),p=g[r]),n?g[r]="?":g.splice(r,0,"?");var f=g.join(""),u=f;if(f.length>0&&a.autoGroup||n&&-1!=f.indexOf(a.groupSeparator)){var c=e.inputmask.escapeRegex(a.groupSeparator);o=0==f.indexOf(a.groupSeparator),f=f.replace(new RegExp(c,"g"),"");var d=f.split(a.radixPoint);if(f=""==a.radixPoint?f:d[0],f!=a.prefix+"?0"&&f.length>=a.groupSize+a.prefix.length)for(var x=new RegExp("([-+]?[\\d?]+)([\\d?]{"+a.groupSize+"})");x.test(f);)f=f.replace(x,"$1"+a.groupSeparator+"$2"),f=f.replace(a.groupSeparator+a.groupSeparator,a.groupSeparator);""!=a.radixPoint&&d.length>1&&(f+=a.radixPoint+d[1])}o=u!=f,i.length=f.length;for(var s=0,l=f.length;l>s;s++)i[s]=f.charAt(s);var m=e.inArray("?",i);if(n?i[m]=p:i.splice(m,1),!o&&t)for(var s=0,l=a.suffix.length;l>s;s++)i.push(a.suffix.charAt(s));return{pos:m,refreshFromBuffer:o,buffer:i}},onBeforeWrite:function(i,r,n,a){if(i&&"blur"==i.type){var t=r.join(""),o=t.replace(a.prefix,"");if(o=o.replace(a.suffix,""),o=o.replace(new RegExp(e.inputmask.escapeRegex(a.groupSeparator),"g"),""),","===a.radixPoint&&(o=o.replace(e.inputmask.escapeRegex(a.radixPoint),".")),isFinite(o)&&isFinite(a.min)&&parseFloat(o)<parseFloat(a.min))return e.extend(!0,{refreshFromBuffer:!0,buffer:(a.prefix+a.min).split("")},a.postFormat((a.prefix+a.min).split(""),0,!0,a));var p=""!=a.radixPoint?r.join("").split(a.radixPoint):[r.join("")],s=p[0].match(a.regex.integerPart(a)),l=2==p.length?p[1].match(a.regex.integerNPart(a)):void 0;!s||s[0]!=a.negationSymbol.front+"0"&&s[0]!=a.negationSymbol.front&&"+"!=s[0]||void 0!=l&&!l[0].match(/^0+$/)||r.splice(s.index,1);var g=e.inArray(a.radixPoint,r);if(-1!=g&&isFinite(a.digits)&&!a.digitsOptional){for(var f=1;f<=a.digits;f++)(void 0==r[g+f]||r[g+f]==a.placeholder.charAt(0))&&(r[g+f]="0");return{refreshFromBuffer:!0,buffer:r}}}if(a.autoGroup){var u=a.postFormat(r,n-1,!0,a);return u.caret=n<=a.prefix.length?u.pos:u.pos+1,u}},regex:{integerPart:function(i){return new RegExp("["+e.inputmask.escapeRegex(i.negationSymbol.front)+"+]?\\d+")},integerNPart:function(i){return new RegExp("[\\d"+e.inputmask.escapeRegex(i.groupSeparator)+"]+")}},signHandler:function(e,i,r,n,a){if(!n&&a.allowMinus&&"-"===e||a.allowPlus&&"+"===e){var t=i.buffer.join("").match(a.regex.integerPart(a));if(t&&t[0].length>0)return i.buffer[t.index]==("-"===e?"+":a.negationSymbol.front)?"-"==e?""!=a.negationSymbol.back?{pos:t.index,c:a.negationSymbol.front,remove:t.index,caret:r,insert:{pos:i.buffer.length-a.suffix.length-1,c:a.negationSymbol.back}}:{pos:t.index,c:a.negationSymbol.front,remove:t.index,caret:r}:""!=a.negationSymbol.back?{pos:t.index,c:"+",remove:[t.index,i.buffer.length-a.suffix.length-1],caret:r}:{pos:t.index,c:"+",remove:t.index,caret:r}:i.buffer[t.index]==("-"===e?a.negationSymbol.front:"+")?"-"==e&&""!=a.negationSymbol.back?{remove:[t.index,i.buffer.length-a.suffix.length-1],caret:r-1}:{remove:t.index,caret:r-1}:"-"==e?""!=a.negationSymbol.back?{pos:t.index,c:a.negationSymbol.front,caret:r+1,insert:{pos:i.buffer.length-a.suffix.length,c:a.negationSymbol.back}}:{pos:t.index,c:a.negationSymbol.front,caret:r+1}:{pos:t.index,c:e,caret:r+1}}return!1},radixHandler:function(i,r,n,a,t){if(!a&&i===t.radixPoint&&t.digits>0){var o=e.inArray(t.radixPoint,r.buffer),p=r.buffer.join("").match(t.regex.integerPart(t));if(-1!=o&&r.validPositions[o])return r.validPositions[o-1]?{caret:o+1}:{pos:p.index,c:p[0],caret:o+1};if(!p||"0"==p[0]&&p.index+1!=n)return r.buffer[p?p.index:n]="0",{pos:(p?p.index:n)+1}}return!1},leadingZeroHandler:function(i,r,n,a,t){var o=r.buffer.join("").match(t.regex.integerNPart(t)),p=e.inArray(t.radixPoint,r.buffer);if(o&&!a&&(-1==p||p>=n))if(0==o[0].indexOf("0")){n<t.prefix.length&&(n=o.index);var s=e.inArray(t.radixPoint,r._buffer),l=r._buffer&&r.buffer.slice(p).join("")==r._buffer.slice(s).join("")||0==parseInt(r.buffer.slice(p+1).join("")),g=r._buffer&&r.buffer.slice(o.index,p).join("")==r._buffer.slice(t.prefix.length,s).join("")||"0"==r.buffer.slice(o.index,p).join("");if(-1==p||l&&g)return r.buffer.splice(o.index,1),n=n>o.index?n-1:o.index,{pos:n,remove:o.index};if(o.index+1==n||"0"==i)return r.buffer.splice(o.index,1),n=o.index,{pos:n,remove:o.index}}else if("0"===i&&n<=o.index&&o[0]!=t.groupSeparator)return!1;return!0},postValidation:function(i,r){var n=!0,a=i.join(""),t=a.replace(r.prefix,"");return t=t.replace(r.suffix,""),t=t.replace(new RegExp(e.inputmask.escapeRegex(r.groupSeparator),"g"),""),","===r.radixPoint&&(t=t.replace(e.inputmask.escapeRegex(r.radixPoint),".")),t=t.replace(new RegExp("^"+e.inputmask.escapeRegex(r.negationSymbol.front)),"-"),t=t.replace(new RegExp(e.inputmask.escapeRegex(r.negationSymbol.back)+"$"),""),isFinite(t)&&isFinite(r.max)&&(n=parseFloat(t)<=parseFloat(r.max)),n},definitions:{"~":{validator:function(i,r,n,a,t){var o=t.signHandler(i,r,n,a,t);if(!o&&(o=t.radixHandler(i,r,n,a,t),!o&&(o=a?new RegExp("[0-9"+e.inputmask.escapeRegex(t.groupSeparator)+"]").test(i):new RegExp("[0-9]").test(i),o===!0&&(o=t.leadingZeroHandler(i,r,n,a,t),o===!0)))){var p=e.inArray(t.radixPoint,r.buffer);o=t.digitsOptional===!1&&n>p&&!a?{pos:n,remove:n}:{pos:n}}return o},cardinality:1,prevalidator:null},"+":{validator:function(e,i,r,n,a){var t=a.signHandler(e,i,r,n,a);return!t&&(n&&a.allowMinus&&e===a.negationSymbol.front||a.allowMinus&&"-"==e||a.allowPlus&&"+"==e)&&(t="-"==e?""!=a.negationSymbol.back?{pos:r,c:"-"===e?a.negationSymbol.front:"+",caret:r+1,insert:{pos:i.buffer.length,c:a.negationSymbol.back}}:{pos:r,c:"-"===e?a.negationSymbol.front:"+",caret:r+1}:!0),t},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(e,i,r,n,a){var t=a.signHandler(e,i,r,n,a);return!t&&n&&a.allowMinus&&e===a.negationSymbol.back&&(t=!0),t},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(i,r,n,a,t){var o=t.signHandler(i,r,n,a,t);if(!o){var p="["+e.inputmask.escapeRegex(t.radixPoint)+"]";o=new RegExp(p).test(i),o&&r.validPositions[n]&&r.validPositions[n].match.placeholder==t.radixPoint&&(o={caret:n+1})}return o},cardinality:1,prevalidator:null,placeholder:function(e){return e.radixPoint}}},insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,onUnMask:function(i,r,n){var a=i.replace(n.prefix,"");return a=a.replace(n.suffix,""),a=a.replace(new RegExp(e.inputmask.escapeRegex(n.groupSeparator),"g"),""),n.unmaskAsNumber?(a=a.replace(e.inputmask.escapeRegex.call(this,n.radixPoint),"."),Number(a)):a},isComplete:function(i,r){var n=i.join(""),a=i.slice();if(r.postFormat(a,0,!0,r),a.join("")!=n)return!1;var t=n.replace(r.prefix,"");return t=t.replace(r.suffix,""),t=t.replace(new RegExp(e.inputmask.escapeRegex(r.groupSeparator),"g"),""),","===r.radixPoint&&(t=t.replace(e.inputmask.escapeRegex(r.radixPoint),".")),isFinite(t)},onBeforeMask:function(i,r){if(""!=r.radixPoint&&isFinite(i))i=i.toString().replace(".",r.radixPoint);else{var n=i.match(/,/g),a=i.match(/\./g);a&&n?a.length>n.length?(i=i.replace(/\./g,""),i=i.replace(",",r.radixPoint)):n.length>a.length?(i=i.replace(/,/g,""),i=i.replace(".",r.radixPoint)):i=i.indexOf(".")<i.indexOf(",")?i.replace(/\./g,""):i=i.replace(/,/g,""):i=i.replace(new RegExp(e.inputmask.escapeRegex(r.groupSeparator),"g"),"")}return 0==r.digits&&(-1!=i.indexOf(".")?i=i.substring(0,i.indexOf(".")):-1!=i.indexOf(",")&&(i=i.substring(0,i.indexOf(",")))),i},canClearPosition:function(i,r,n,a,t){var o=i.validPositions[r].input,p=o!=t.radixPoint&&isFinite(o)||r==n||o==t.groupSeparator||o==t.negationSymbol.front||o==t.negationSymbol.back;if(p&&isFinite(o)){var s;if(!a&&i.buffer){s=i.buffer.join("").substr(0,r).match(t.regex.integerNPart(t));var l=r+1,g=null==s||0==parseInt(s[0].replace(new RegExp(e.inputmask.escapeRegex(t.groupSeparator),"g"),""));if(g)for(;i.validPositions[l]&&(i.validPositions[l].input==t.groupSeparator||"0"==i.validPositions[l].input);)delete i.validPositions[l],l++}var f=[];for(var u in i.validPositions)f.push(i.validPositions[u].input);s=f.join("").match(t.regex.integerNPart(t));var c=e.inArray(t.radixPoint,i.buffer);if(s&&(-1==c||c>=r))if(0==s[0].indexOf("0"))p=s.index!=r||-1==c;else{var d=parseInt(s[0].replace(new RegExp(e.inputmask.escapeRegex(t.groupSeparator),"g"),""));-1!=c&&10>d&&"0"==t.placeholder.charAt(0)&&(i.validPositions[r].input="0",i.p=t.prefix.length+1,p=!1)}}return p}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),e.fn.inputmask}(jQuery);