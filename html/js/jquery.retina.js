!function(t){t.fn.retina=function(r){var a={retina_part:"-2x"};return r&&jQuery.extend(a,{retina_part:r}),window.devicePixelRatio>=2&&this.each(function(r,e){if(t(e).attr("src")){var n=new RegExp("(.+)("+a.retina_part+"\\.\\w{3,4})");if(!n.test(t(e).attr("src"))){var i=t(e).attr("src").replace(/(.+)(\.\w{3,4})$/,"$1"+a.retina_part+"$2");t.ajax({url:i,type:"HEAD",success:function(){t(e).attr("src",i)}})}}}),this}}(jQuery);